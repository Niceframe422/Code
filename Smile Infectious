-- Load the external script with loadstring
loadstring(game:HttpGet("https://pastebin.com/raw/TqgbdDjF"))()

-- Wait for a moment to ensure the GUI is loaded
wait(2)

-- Access CoreGui and the ScreenGui
local core = game:GetService("CoreGui")
local gui = core:FindFirstChild("ScreenGui")

function Button()
  for _, v in pairs(gui:GetChildren()) do
    if v.Name ~= "close" then
      v:Destroy()
    end
  end
end)

function Remove()
  for i, v in pairs(game.Workspace.Map:GetChildren()) do
     if v.Name == "AntiHack" or v.Name == "KillBricks" or v.Name == "Spawns" then
        v:Destroy()
     elseif v.Name == "HumanBase" or v.Name == "System" then
        v:FindFirstChild("KillZone"):Destroy()
        v:FindFirstChild("Lava"):Destroy()
        v:FindFirstChild("Weight"):Destroy()
        v:FindFirstChild("Water"):Destroy()
     end
  end
end)

-- Check if the gui exists, then remove the unwanted buttons after loading
if gui then
    spawn(function()
        while wait(1) do
         Button()
         Remove()      
        end
    end)
else
    warn("ScreenGui not found in CoreGui")
end
